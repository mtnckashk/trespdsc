<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exoplanet Journey</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #000;
            color: #fff;
            font-family: 'Press Start 2P', cursive;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        #gameContainer {
            width: 100%;
            max-width: 800px;
            text-align: center;
            padding: 20px;
        }
        
        .screen {
            display: none;
        }
        
        .screen.active {
            display: block;
        }
        
        #planetImage {
            width: 300px;
            height: 300px;
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
            margin: 40px 0;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        
        h1 {
            font-size: 24px;
            margin: 30px 0;
            line-height: 1.5;
        }
        
        button {
            background: #fff;
            color: #000;
            border: none;
            padding: 15px 40px;
            font-family: 'Press Start 2P', cursive;
            font-size: 16px;
            cursor: pointer;
            margin: 20px;
            transition: all 0.3s;
        }
        
        button:hover {
            background: #0f0;
            transform: scale(1.1);
        }
        
        #snakeCanvas {
            border: 4px solid #fff;
            margin: 20px auto;
            display: block;
            image-rendering: pixelated;
        }
        
        #snakeScore {
            font-size: 18px;
            margin: 20px 0;
        }
        
        #questionScreen img {
            width: 200px;
            height: 200px;
            image-rendering: pixelated;
            margin: 20px 0;
        }
        
        .question-text {
            font-size: 14px;
            line-height: 1.8;
            margin: 30px 0;
            padding: 0 20px;
        }
        
        #answerInput {
            width: 90%;
            max-width: 600px;
            padding: 15px;
            font-family: 'Press Start 2P', cursive;
            font-size: 12px;
            background: #111;
            color: #0f0;
            border: 2px solid #fff;
            margin: 20px 0;
        }
        
        .progress {
            font-size: 14px;
            margin: 20px 0;
            color: #0ff;
        }
        
        #finalScreen {
            padding: 40px 20px;
        }
        
        .answers-list {
            text-align: left;
            font-size: 10px;
            line-height: 1.8;
            max-height: 400px;
            overflow-y: auto;
            margin: 20px auto;
            padding: 20px;
            border: 2px solid #fff;
            max-width: 600px;
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <!-- Start Screen -->
        <div id="startScreen" class="screen active">
            <h1>TrEs-PDS 2b70c</h1>
            <img src="../Pictures/game/photos/170271-space-planet-pixels-pixel_art-black_background-blue-ball.jpg" 
                 alt="Planet" 
                 style="width: 300px; image-rendering: pixelated; margin: 40px auto; display: block;">
            <button onclick="startGame()">START</button>
        </div>
        
        <!-- Snake Game Screen -->
        <div id="snakeScreen" class="screen">
            <h1>SAMMLE 6 STERNE</h1>
            <div id="snakeScore">Punkte: 0 / 6</div>
            <canvas id="snakeCanvas" width="400" height="400"></canvas>
            <p style="font-size: 10px; margin-top: 20px;">Steuerung: Pfeiltasten</p>
        </div>
        
        <!-- Question Screen -->
        <div id="questionScreen" class="screen">
            <div class="progress">Frage <span id="questionNumber">1</span> von 42</div>
            <div id="questionImage"></div>
            <div class="question-text" id="questionText"></div>
            <textarea id="answerInput" rows="4" placeholder="Deine Antwort..."></textarea>
            <button onclick="nextQuestion()">WEITER</button>
        </div>
        
        <!-- Final Screen -->
        <div id="finalScreen" class="screen">
            <h1>REISE ABGESCHLOSSEN</h1>
            <p style="font-size: 16px; margin: 30px 0; color: #f00;">Die Reise wurde vollendet, jedoch wirst du niemals entkommen.</p>
            <div class="answers-list" id="answersList"></div>
        </div>
    </div>

    <script>
        // Game State
        let currentQuestion = 0;
        let answers = [];
        
        // Questions mit Bildtypen
        const questions = [
            { q: "Wenn du ein Planet wärst, welche Farbe hätte dein Himmel?", img: "sky" },
            { q: "Was würdest du dem Universum flüstern, wenn es zuhören würde?", img: "universe" },
            { q: "Welche Erinnerung würdest du in einem Stern verstecken?", img: "star" },
            { q: "Wenn Zeit eine Textur hätte, wie würde sie sich anfühlen?", img: "time" },
            { q: "Was ist die Farbe deiner tiefsten Sehnsucht?", img: "color" },
            { q: "Welches Geräusch macht deine Seele, wenn niemand zuhört?", img: "soul" },
            { q: "Wenn du in einem Traum stecken bleiben würdest, welcher wäre es?", img: "dream" },
            { q: "Was würdest du einem außerirdischen Wesen über die Menschheit erzählen?", img: "alien" },
            { q: "Welche Frage möchtest du nie beantwortet bekommen?", img: "question" },
            { q: "Wenn Einsamkeit eine Landschaft wäre, wie sähe sie aus?", img: "landscape" },
            { q: "Was wiegt schwerer: ein Geheimnis oder eine Lüge?", img: "balance" },
            { q: "Welchen Moment würdest du für die Ewigkeit konservieren?", img: "moment" },
            { q: "Wenn du unsichtbar wärst, wo würdest du hingehen?", img: "invisible" },
            { q: "Was ist das Gegenteil von deinem Namen?", img: "name" },
            { q: "Welche Emotion möchtest du als letztes fühlen?", img: "emotion" },
            { q: "Wenn du die Schwerkraft ändern könntest, würdest du fliegen oder fallen?", img: "gravity" },
            { q: "Was würdest du tun mit einem zusätzlichen Leben?", img: "life" },
            { q: "Welches Wort möchtest du aus der Sprache löschen?", img: "word" },
            { q: "Wenn Gedanken sichtbar wären, welche würdest du verstecken?", img: "thought" },
            { q: "Was ist schöner: Anfang oder Ende?", img: "cycle" },
            { q: "Welche Superkraft würde dich am meisten verändern?", img: "power" },
            { q: "Wenn du einen Tag mit deinem zukünftigen Ich verbringen könntest, was würdest du fragen?", img: "future" },
            { q: "Was ist das Gegenteil von Heimat?", img: "home" },
            { q: "Welchen Geruch hat Hoffnung?", img: "hope" },
            { q: "Wenn du ein Element wärst (Feuer, Wasser, Erde, Luft), welches und warum?", img: "element" },
            { q: "Was würdest du in eine Zeitkapsel für das Jahr 3000 legen?", img: "capsule" },
            { q: "Welche Farbe hat Angst für dich?", img: "fear" },
            { q: "Wenn du die Welt durch die Augen eines Tieres sehen könntest, welches wäre es?", img: "animal" },
            { q: "Was ist wertvoller: Wissen oder Weisheit?", img: "knowledge" },
            { q: "Welchen Teil deiner Kindheit würdest du zurückhaben wollen?", img: "childhood" },
            { q: "Wenn Stille eine Form hätte, wie würde sie aussehen?", img: "silence" },
            { q: "Was würdest du tun, wenn du wüsstest, dass niemand es je erfahren würde?", img: "secret" },
            { q: "Welcher Sinn (Sehen, Hören, etc.) definiert dich am meisten?", img: "sense" },
            { q: "Wenn du ein Buch über dein Leben schreiben würdest, wie würde der letzte Satz lauten?", img: "book" },
            { q: "Was ist wichtiger: geliebt zu werden oder zu lieben?", img: "love" },
            { q: "Welche Farbe hat dein Mut?", img: "courage" },
            { q: "Wenn du einen Moment einfrieren könntest, welcher wäre es?", img: "freeze" },
            { q: "Was würdest du tun, wenn du unsterblich wärst?", img: "immortal" },
            { q: "Welches Gefühl möchtest du nie wieder erleben?", img: "pain" },
            { q: "Wenn du die Realität für einen Tag neugestalten könntest, was würdest du ändern?", img: "reality" },
            { q: "Was ist die wichtigste Lüge, die du dir selbst erzählst?", img: "lie" },
            { q: "Wenn das Universum eine Frage an dich hätte, was wäre es?", img: "cosmos" }
        ];
        
        // Snake Game
        const canvas = document.getElementById('snakeCanvas');
        const ctx = canvas.getContext('2d');
        const gridSize = 20;
        const tileCount = canvas.width / gridSize;
        
        let snake = [{x: 10, y: 10}];
        let food = {x: 15, y: 15};
        let dx = 0;
        let dy = 0;
        let score = 0;
        let gameLoop;
        let maxSnakeLength = 5; // Maximale Länge der Schlange
        
        function startGame() {
            document.getElementById('startScreen').classList.remove('active');
            document.getElementById('snakeScreen').classList.add('active');
            gameLoop = setInterval(updateSnake, 100);
        }
        
        function updateSnake() {
            const head = {x: snake[0].x + dx, y: snake[0].y + dy};
            
            // Wall collision
            if (head.x < 0 || head.x >= tileCount || head.y < 0 || head.y >= tileCount) {
                resetSnake();
                return;
            }
            
            // Self collision
            for (let segment of snake) {
                if (head.x === segment.x && head.y === segment.y) {
                    resetSnake();
                    return;
                }
            }
            
            snake.unshift(head);
            
            // Food collision
            if (head.x === food.x && head.y === food.y) {
                score++;
                document.getElementById('snakeScore').textContent = `Punkte: ${score} / 6`;
                placeFood();
                
                if (score >= 6) {
                    clearInterval(gameLoop);
                    setTimeout(() => {
                        document.getElementById('snakeScreen').classList.remove('active');
                        document.getElementById('questionScreen').classList.add('active');
                        showQuestion();
                    }, 500);
                }
            } else {
                snake.pop();
            }
            
            // Begrenze die Schlangenlänge
            while (snake.length > maxSnakeLength) {
                snake.pop();
            }
            
            drawSnake();
        }
        
        function drawSnake() {
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw snake
            ctx.fillStyle = '#0f0';
            for (let segment of snake) {
                ctx.fillRect(segment.x * gridSize, segment.y * gridSize, gridSize - 2, gridSize - 2);
            }
            
            // Draw food (star)
            ctx.fillStyle = '#ff0';
            ctx.fillRect(food.x * gridSize, food.y * gridSize, gridSize - 2, gridSize - 2);
        }
        
        function placeFood() {
            food.x = Math.floor(Math.random() * tileCount);
            food.y = Math.floor(Math.random() * tileCount);
        }
        
        function resetSnake() {
            snake = [{x: 10, y: 10}];
            dx = 0;
            dy = 0;
            score = 0;
            document.getElementById('snakeScore').textContent = `Punkte: ${score} / 6`;
        }
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowUp' && dy === 0) { dx = 0; dy = -1; }
            if (e.key === 'ArrowDown' && dy === 0) { dx = 0; dy = 1; }
            if (e.key === 'ArrowLeft' && dx === 0) { dx = -1; dy = 0; }
            if (e.key === 'ArrowRight' && dx === 0) { dx = 1; dy = 0; }
        });
        
        // Question System
        function showQuestion() {
            if (currentQuestion >= 42) {
                showFinalScreen();
                return;
            }
            
            const q = questions[currentQuestion];
            document.getElementById('questionNumber').textContent = currentQuestion + 1;
            document.getElementById('questionText').textContent = q.q;
            document.getElementById('answerInput').value = '';
            
            // Nutze Bilder aus 'Neuer Ordner' für die Fragen
            const imgContainer = document.getElementById('questionImage');
            // Thematische Bildzuordnung
            const frageBilder = {
                12: "frage13.jpg", // Frage 13
                41: "frage42.jpg", // Frage 42
                27: "Download (28).png", // Tierfrage
                2: "Download (3).png", // Sternfrage
                0: "Download.png", // Himmel
                6: "Download (7).png", // Traum
                9: "Download (10).png", // Landschaft
                24: "Download (25).png", // Element
                // 35 und 36 entfernt, da Bilder fehlen
            };
            if (frageBilder.hasOwnProperty(currentQuestion)) {
                imgContainer.innerHTML = `<img src="game/Neuer%20Ordner/${frageBilder[currentQuestion]}" alt="Fragebild" style="width: 300px; height: 300px; image-rendering: auto; margin: 20px 0;">`;
            } else {
                imgContainer.innerHTML = generatePixelArt(q.img);
            }
        }
        
        function generatePixelArt(type) {
            const colors = {
                sky: ['#87CEEB', '#4682B4', '#1E90FF'],
                universe: ['#000033', '#000066', '#6B4C9A'],
                star: ['#FFD700', '#FFA500', '#FF8C00'],
                time: ['#4B0082', '#8B008B', '#9370DB'],
                color: ['#FF69B4', '#FF1493', '#C71585'],
                soul: ['#00CED1', '#20B2AA', '#008B8B'],
                dream: ['#E6E6FA', '#D8BFD8', '#DDA0DD'],
                alien: ['#00FF00', '#32CD32', '#228B22'],
                question: ['#FFD700', '#FFA500', '#FF4500'],
                landscape: ['#8B4513', '#A0522D', '#D2691E'],
                balance: ['#808080', '#A9A9A9', '#C0C0C0'],
                moment: ['#FF6347', '#FF7F50', '#FFA07A'],
                invisible: ['#F0F8FF', '#E0FFFF', '#F5F5F5'],
                name: ['#4169E1', '#6495ED', '#00BFFF'],
                emotion: ['#DC143C', '#B22222', '#8B0000'],
                gravity: ['#483D8B', '#6A5ACD', '#7B68EE'],
                life: ['#00FF7F', '#3CB371', '#2E8B57'],
                word: ['#FFE4B5', '#FFDAB9', '#EEE8AA'],
                thought: ['#BA55D3', '#9370DB', '#8A2BE2'],
                cycle: ['#FF8C00', '#FFA500', '#FFD700'],
                power: ['#FF0000', '#DC143C', '#B22222'],
                future: ['#00FFFF', '#00CED1', '#48D1CC'],
                home: ['#CD853F', '#D2691E', '#8B4513'],
                hope: ['#FFD700', '#F0E68C', '#EEE8AA'],
                element: ['#FF4500', '#4169E1', '#32CD32'],
                capsule: ['#708090', '#778899', '#696969'],
                fear: ['#2F4F4F', '#000000', '#1C1C1C'],
                animal: ['#8B4513', '#A0522D', '#D2691E'],
                knowledge: ['#4B0082', '#483D8B', '#6A5ACD'],
                childhood: ['#FFB6C1', '#FFC0CB', '#FFE4E1'],
                silence: ['#F5F5F5', '#DCDCDC', '#D3D3D3'],
                secret: ['#2F4F4F', '#696969', '#808080'],
                sense: ['#FF69B4', '#FF1493', '#C71585'],
                book: ['#8B4513', '#A0522D', '#D2691E'],
                love: ['#FF1493', '#FF69B4', '#FFB6C1'],
                courage: ['#FF6347', '#FF4500', '#DC143C'],
                freeze: ['#B0E0E6', '#ADD8E6', '#87CEEB'],
                immortal: ['#FFD700', '#FFA500', '#FF8C00'],
                pain: ['#8B0000', '#A52A2A', '#B22222'],
                reality: ['#9370DB', '#8A2BE2', '#9932CC'],
                lie: ['#696969', '#808080', '#A9A9A9'],
                cosmos: ['#191970', '#000080', '#00008B']
            };
            
            const palette = colors[type] || colors.star;
            
            return `<svg width="200" height="200" xmlns="http://www.w3.org/2000/svg">
                ${Array.from({length: 20}, (_, i) => 
                    Array.from({length: 20}, (_, j) => 
                        `<rect x="${j*10}" y="${i*10}" width="10" height="10" 
                         fill="${palette[Math.floor(Math.random() * palette.length)]}" 
                         opacity="${Math.random() * 0.8 + 0.2}"/>`
                    ).join('')
                ).join('')}
            </svg>`;
        }
        
        function nextQuestion() {
            const answer = document.getElementById('answerInput').value;
            answers.push({
                question: questions[currentQuestion].q,
                answer: answer
            });
            
            currentQuestion++;
            showQuestion();
        }
        
        function showFinalScreen() {
            document.getElementById('questionScreen').classList.remove('active');
            document.getElementById('finalScreen').classList.add('active');
            
            let html = '';
            answers.forEach((item, i) => {
                html += `<p><strong>Q${i+1}:</strong> ${item.question}</p>`;
                html += `<p style="color: #0f0; margin-bottom: 15px;">A: ${item.answer || '(keine Antwort)'}</p>`;
            });
            
            document.getElementById('answersList').innerHTML = html;
            setTimeout(() => {
                document.getElementById('finalScreen').classList.remove('active');
                document.getElementById('startScreen').classList.add('active');
            }, 5000);
        }
    </script>
</body>
</html>